import{u as M,b as $,f as h,c as U,g as k,h as w,_ as j,i as z,G as A,V as E,a as F,d as G,e as I}from"./VLayout-G6-J8OKT.js";import{a as O,V as Q,v as W,_ as X,b as Z}from"./OrganizationForm.vue_vue_type_script_setup_true_lang-QaRVMRDR.js";import{j as C,E as q}from"./scopeId-CAbM3nmq.js";import{B,h as H,r as y,C as T,F as g,D as a,c as t,G as c,b as u,X as x,R as s,S as N,Z as L,am as J,Q as D,W as K,ac as P,L as Y,w as ee}from"./index-C7k9QDZv.js";import{V as te}from"./VDataTable-BJXX6tMC.js";const ae={class:"font-weight-bold mb-1 text-subtitle-2"},le={class:"font-weight-bold mb-1 text-subtitle-2"},oe={class:"font-weight-bold mb-1 text-subtitle-2"},se={class:"font-weight-bold mb-1 text-subtitle-2"},ne=B({__name:"CommissionMemberDialog",props:{id:{}},emits:["cancel"],setup(p,{emit:l}){const{addCommisionMember:i,saveUser:r,commissionMembers:_}=M(),V=p,n=H(()=>V.id!==void 0),o=y({}),v=y(!1),f=l,m=()=>{if(!o.value.familyName)return alert("Не зазначене прізвище члена комісії");if(!o.value.givenName)return alert("Не зазначене ім'я члена комісії");if(!o.value.additionalName)return alert("Не зазначене по батькові члена комісії");if(!o.value.status)return alert("Не зазначений статус члена комісії");if(o.value.status!=="Член комісії"&&_.filter(e=>e.status===o.value.status).length)return alert(o.value.status+" вже наявний у вашій комісії");const b=L(o.value);V.id&&(b.id=V.id,v.value&&r(b),i(b),o.value={},f("cancel"))};return(b,e)=>{const R=j;return g(),T(Q,{modelValue:s(n),"onUpdate:modelValue":e[6]||(e[6]=d=>N(n)?n.value=d:null),scrollable:"",persistent:"",overlay:!1,"max-width":"700px",transition:"dialog-transition"},{default:a(()=>[t($,{color:"main"},{default:a(()=>[t(h,{"primary-title":""},{default:a(()=>[...e[7]||(e[7]=[c(" Додати члена комісії ",-1)])]),_:1}),t(U,null,{default:a(()=>[e[8]||(e[8]=u("p",{class:"text-subtitle-1 mb-6"},"Зазначте прізвище, ім'я та по батькові особи",-1)),u("div",ae,x(s(k).properties.familyName.title),1),t(w,{modelValue:s(o).familyName,"onUpdate:modelValue":e[0]||(e[0]=d=>s(o).familyName=d),placeholder:"Дія",variant:"solo-inverted",name:"person.familyName"},null,8,["modelValue"]),u("div",le,x(s(k).properties.givenName.title),1),t(w,{modelValue:s(o).givenName,"onUpdate:modelValue":e[1]||(e[1]=d=>s(o).givenName=d),placeholder:"Надія",variant:"solo-inverted",name:"person.givenName"},null,8,["modelValue"]),u("div",oe,x(s(k).properties.additionalName.title),1),t(w,{modelValue:s(o).additionalName,"onUpdate:modelValue":e[2]||(e[2]=d=>s(o).additionalName=d),placeholder:"Володимирівна",variant:"solo-inverted",name:"person.additionalName"},null,8,["modelValue"]),e[9]||(e[9]=u("p",{class:"text-subtitle-1 mb-6"},"Зазначте статус члена комісії",-1)),u("div",se,x(s(k).properties.status.title),1),t(R,{modelValue:s(o).status,"onUpdate:modelValue":e[3]||(e[3]=d=>s(o).status=d),dictionary:"commissionMemberTypes"},null,8,["modelValue"]),t(O,{label:"Це мій власний запис",modelValue:s(v),"onUpdate:modelValue":e[4]||(e[4]=d=>N(v)?v.value=d:null)},null,8,["modelValue"])]),_:1}),t(z,null,{default:a(()=>[t(C,{onClick:e[5]||(e[5]=d=>f("cancel")),color:"grey-darken-1"},{default:a(()=>[...e[10]||(e[10]=[c("Скасувати",-1)])]),_:1}),t(C,{onClick:m,color:"primary-darken-1",variant:"flat"},{default:a(()=>[...e[11]||(e[11]=[c("Зберегти",-1)])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])}}}),ie={class:"pa-4"},re={class:"text-no-wrap"},me=B({__name:"CommissionMembersList",setup(p){const l=M(),{commissionMembers:i,user:r}=J(l),{removeCommissionMember:_}=l,V=[{key:"name",title:"Прізвище, ім'я та по батькові"},{key:"status",title:"Статус"},{key:"isCurrentUser",title:"Поточний користувач",align:"center"},{key:"id",title:"Видалити"}],n=y(),o=()=>{n.value=W()},v=f=>{_(f)};return(f,m)=>{const b=ne;return g(),D("div",ie,[m[4]||(m[4]=u("h5",{class:"text-h5 mb-4"},"Склад комісії",-1)),t(te,{headers:V,items:s(i),"hide-actions":"",class:"elevation-1","item-key":"id","hide-default-footer":"","no-data-text":"Ви ще не додали жодного члена комісії"},{"item.status":a(({item:e})=>[t(A,{label:"",color:"primary-darken-2"},{default:a(()=>[c(x(e.status),1)]),_:2},1024)]),"item.name":a(({item:e})=>[u("span",re,x([e.familyName,e.givenName,e.additionalName].filter(Boolean).join(" ")),1)]),"item.isCurrentUser":a(({item:e})=>[e.id===s(r).id?(g(),T(q,{key:0},{default:a(()=>[...m[1]||(m[1]=[c("mdi-check",-1)])]),_:1})):K("",!0)]),"item.id":a(({item:e})=>[t(C,{onClick:R=>v(e.id),color:"error",variant:"tonal",size:"small"},{default:a(()=>[...m[2]||(m[2]=[c("Видалити",-1)])]),_:1},8,["onClick"])]),_:2},1032,["items"]),t(C,{onClick:o,color:"primary",class:"mt-6"},{default:a(()=>[...m[3]||(m[3]=[c("Додати",-1)])]),_:1}),t(b,{id:s(n),onCancel:m[0]||(m[0]=e=>n.value=void 0)},null,8,["id"])])}}}),de={class:"pa-4"},ue=B({__name:"CommissionForm",setup(p){const l=y({}),{commission:i}=M(),r=y(!1);P(()=>{l.value=L(i),Y(()=>{r.value=!1})}),ee(()=>l,()=>{r.value||(r.value=!0)},{deep:!0});const _=()=>{if(!l.value.admin4)return alert("Не визначено місцезнаходження комісії");if(!l.value.title)return alert("Не визначена назва комісії");if(!l.value.code)return alert("Не визначено код ЄДРПОУ комісії");i.value=l.value,r.value=!1};return(V,n)=>{const o=X,v=Z;return g(),D("div",de,[n[3]||(n[3]=u("h5",{class:"text-h5 mb-4"},"Основні дані про комісію",-1)),t(o,{modelValue:s(l),"onUpdate:modelValue":n[0]||(n[0]=f=>N(l)?l.value=f:null)},null,8,["modelValue"]),n[4]||(n[4]=u("h5",{class:"text-h5 mt-6 mb-4"},"Місцезнаходження",-1)),t(v,{modelValue:s(l),"onUpdate:modelValue":n[1]||(n[1]=f=>N(l)?l.value=f:null)},null,8,["modelValue"]),t(C,{onClick:_,class:"mt-4",color:"primary-darken-1",disabled:!s(r)},{default:a(()=>[...n[2]||(n[2]=[c("Завантажити",-1)])]),_:1},8,["disabled"])])}}}),S=(p,l)=>{const i=p.__vccOpts||p;for(const[r,_]of l)i[r]=_;return i},fe={},ce={style:{height:"calc(100vh - 56px)"}};function pe(p,l){const i=ue,r=me;return g(),D("div",ce,[t(I,{class:"rounded-md pa-3 h-100"},{default:a(()=>[t(E,null,{default:a(()=>[t(F,{cols:"5",class:"d-flex h-100 pa-5"},{default:a(()=>[t($,{color:"main",class:"d-flex flex-column h-100 w-100"},{default:a(()=>[t(U,{class:"flex-grow-1 overflow-auto custom-scroll"},{default:a(()=>[t(G,{items:["Налаштування комісії"]},{divider:a(()=>[...l[0]||(l[0]=[c("|",-1)])]),_:1}),t(i)]),_:1})]),_:1})]),_:1}),t(F,{cols:"7",class:"d-flex h-100 pa-0"},{default:a(()=>[t($,{class:"d-flex flex-column h-100 w-100 bg-white",flat:""},{default:a(()=>[t(U,{class:"flex-grow-1 overflow-auto pa-5"},{default:a(()=>[t(r)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})])}const ve=S(fe,[["render",pe]]),_e={};function Ve(p,l){const i=ve;return g(),T(i)}const ke=S(_e,[["render",Ve]]);export{ke as default};
