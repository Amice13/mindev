import{m as N,i as M,j,k as q,e as $,d as G,f as K,g as O,V as W,l as H,n as Y,b as J}from"./VBtn-DneWDqxE.js";import{p as B,g as k,m as _,i as P,e as m,n as w,j as E,b as T,L as Q,B as X,A as Z,s as y,c as d,K as ee,k as x,F as A,z as te,q as V,l as le,t as ae,E as oe,G as p,v as se,x as ne,I as re,N as ue,P as R}from"./index-DFa61Eif.js";const L=B({text:String,..._(),...N()},"VToolbarTitle"),z=k()({name:"VToolbarTitle",props:L(),setup(e,g){let{slots:t}=g;return P(()=>{const v=!!(t.default||t.text||e.text);return m(e.tag,{class:E(["v-toolbar-title",e.class]),style:w(e.style)},{default:()=>[v&&T("div",{class:"v-toolbar-title__placeholder"},[t.text?t.text():e.text,t.default?.()])]})}),{}}}),ie=[null,"prominent","default","comfortable","compact"],U=B({absolute:Boolean,collapse:Boolean,collapsePosition:{type:String,default:"start"},color:String,density:{type:String,default:"default",validator:e=>ie.includes(e)},extended:{type:Boolean,default:null},extensionHeight:{type:[Number,String],default:48},flat:Boolean,floating:Boolean,height:{type:[Number,String],default:64},image:String,title:String,...q(),..._(),...j(),...M(),...N({tag:"header"}),...Q()},"VToolbar"),I=k()({name:"VToolbar",props:U(),setup(e,g){let{slots:t}=g;const{backgroundColorClasses:v,backgroundColorStyles:r}=$(()=>e.color),{borderClasses:l}=G(e),{elevationClasses:u}=K(e),{roundedClasses:s}=O(e),{themeClasses:f}=X(e),{rtlClasses:S}=Z(),n=y(e.extended===null?!!t.extension?.():e.extended),i=d(()=>parseInt(Number(e.height)+(e.density==="prominent"?Number(e.height):0)-(e.density==="comfortable"?8:0)-(e.density==="compact"?16:0),10)),b=d(()=>n.value?parseInt(Number(e.extensionHeight)+(e.density==="prominent"?Number(e.extensionHeight):0)-(e.density==="comfortable"?4:0)-(e.density==="compact"?8:0),10):0);return ee({VBtn:{variant:"text"}}),P(()=>{const h=!!(e.title||t.title),o=!!(t.image||e.image),c=t.extension?.();return n.value=e.extended===null?!!c:e.extended,m(e.tag,{class:E(["v-toolbar",`v-toolbar--collapse-${e.collapsePosition}`,{"v-toolbar--absolute":e.absolute,"v-toolbar--collapse":e.collapse,"v-toolbar--flat":e.flat,"v-toolbar--floating":e.floating,[`v-toolbar--density-${e.density}`]:!0},v.value,l.value,u.value,s.value,f.value,S.value,e.class]),style:w([r.value,e.style])},{default:()=>[o&&T("div",{key:"image",class:"v-toolbar__image"},[t.image?m(H,{key:"image-defaults",disabled:!e.image,defaults:{VImg:{cover:!0,src:e.image}}},t.image):m(W,{key:"image-img",cover:!0,src:e.image},null)]),m(H,{defaults:{VTabs:{height:x(i.value)}}},{default:()=>[T("div",{class:"v-toolbar__content",style:{height:x(i.value)}},[t.prepend&&T("div",{class:"v-toolbar__prepend"},[t.prepend?.()]),h&&m(z,{key:"title",text:e.title},{text:t.title}),t.default?.(),t.append&&T("div",{class:"v-toolbar__append"},[t.append?.()])])]}),m(H,{defaults:{VTabs:{height:x(b.value)}}},{default:()=>[m(Y,null,{default:()=>[n.value&&T("div",{class:"v-toolbar__extension",style:{height:x(b.value)}},[c])]})]})]})}),{contentHeight:i,extensionHeight:b}}}),ce=B({scrollTarget:{type:String},scrollThreshold:{type:[String,Number],default:300}},"scroll");function de(e){let g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{canScroll:t}=g;let v=0,r=0;const l=A(null),u=y(0),s=y(0),f=y(0),S=y(!1),n=y(!1),i=d(()=>Number(e.scrollThreshold)),b=d(()=>te((i.value-u.value)/i.value||0)),h=()=>{const o=l.value;if(!o||t&&!t.value)return;v=u.value,u.value="window"in o?o.pageYOffset:o.scrollTop;const c=o instanceof Window?document.documentElement.scrollHeight:o.scrollHeight;if(r!==c){r=c;return}n.value=u.value<v,f.value=Math.abs(u.value-i.value)};return V(n,()=>{s.value=s.value||u.value}),V(S,()=>{s.value=0}),le(()=>{V(()=>e.scrollTarget,o=>{const c=o?document.querySelector(o):window;c&&c!==l.value&&(l.value?.removeEventListener("scroll",h),l.value=c,l.value.addEventListener("scroll",h,{passive:!0}))},{immediate:!0})}),ae(()=>{l.value?.removeEventListener("scroll",h)}),t&&V(t,h,{immediate:!0}),{scrollThreshold:i,currentScroll:u,currentThreshold:f,isScrollActive:S,scrollRatio:b,isScrollingUp:n,savedScroll:s}}const ve=B({scrollBehavior:String,modelValue:{type:Boolean,default:!0},location:{type:String,default:"top",validator:e=>["top","bottom"].includes(e)},...U(),...ue(),...ce(),height:{type:[Number,String],default:64}},"VAppBar"),fe=k()({name:"VAppBar",props:ve(),emits:{"update:modelValue":e=>!0},setup(e,g){let{slots:t}=g;const v=A(),r=oe(e,"modelValue"),l=d(()=>{const a=new Set(e.scrollBehavior?.split(" ")??[]);return{hide:a.has("hide"),fullyHide:a.has("fully-hide"),inverted:a.has("inverted"),collapse:a.has("collapse"),elevate:a.has("elevate"),fadeImage:a.has("fade-image")}}),u=d(()=>{const a=l.value;return a.hide||a.fullyHide||a.inverted||a.collapse||a.elevate||a.fadeImage||!r.value}),{currentScroll:s,scrollThreshold:f,isScrollingUp:S,scrollRatio:n}=de(e,{canScroll:u}),i=p(()=>l.value.hide||l.value.fullyHide),b=d(()=>e.collapse||l.value.collapse&&(l.value.inverted?n.value>0:n.value===0)),h=d(()=>e.flat||l.value.fullyHide&&!r.value||l.value.elevate&&(l.value.inverted?s.value>0:s.value===0)),o=d(()=>l.value.fadeImage?l.value.inverted?1-n.value:n.value:void 0),c=d(()=>{if(l.value.hide&&l.value.inverted)return 0;const a=v.value?.contentHeight??0,C=v.value?.extensionHeight??0;return i.value?s.value<f.value||l.value.fullyHide?a+C:a:a+C});se(()=>!!e.scrollBehavior,()=>{ne(()=>{i.value?l.value.inverted?r.value=s.value>f.value:r.value=S.value||s.value<f.value:r.value=!0})});const{ssrBootStyles:D}=J(),{layoutItemStyles:F}=re({id:e.name,order:d(()=>parseInt(e.order,10)),position:p(()=>e.location),layoutSize:c,elementSize:y(void 0),active:r,absolute:p(()=>e.absolute)});return P(()=>{const a=I.filterProps(e);return m(I,R({ref:v,class:["v-app-bar",{"v-app-bar--bottom":e.location==="bottom"},e.class],style:[{...F.value,"--v-toolbar-image-opacity":o.value,height:void 0,...D.value},e.style]},a,{collapse:b.value,flat:h.value}),t)}),{}}}),he=k()({name:"VAppBarTitle",props:L(),setup(e,g){let{slots:t}=g;return P(()=>m(z,R(e,{class:"v-app-bar-title"}),t)),{}}});export{fe as V,he as a};
